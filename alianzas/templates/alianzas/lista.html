{% extends "lista.html" %}

{% block title %}Alianzas{% endblock %}

{% block filtros %}
  <form action="{% url 'alianzas_list' %}" method="get" class="filter-form-simple">
    <div class="filter-block">
      <label for="q">Alianza</label>
      <input type="text" id="q" name="q" value="{{ request.GET.q|default_if_none:'' }}">
    </div>
    <span class="filter-separator" aria-hidden="true"></span>
    <div class="filter-actions">
      <button type="submit" class="btn-filter">Filtrar</button>
      <a href="{% url 'alianzas_list' %}" class="btn-filter">Limpiar</a>
    </div>
  </form>
  <a href="{% url 'alianzas_add' %}?next={{ request.get_full_path|urlencode }}" class="btn-primary">Nueva alianza</a>
{% endblock %}

{% block tabla_head %}
  <tr>
    <th class="sticky-1 col-actions">Acciones</th>
    <th class="sticky-2">Nombre</th>
    <th>Correo</th>
    <th>Fecha registro</th>
  </tr>
{% endblock %}

{% block tabla_body %}
  {% for alianza in alianzas %}
  <tr>
    <td class="sticky-1 col-actions">
      <a class="btn-detalle" href="{% url 'alianzas_edit' alianza.id %}?next={{ request.get_full_path|urlencode }}">Detalle</a>
    </td>
    <td class="sticky-2">{{ alianza.nombre|default_if_none:"" }}</td>
    <td>{{ alianza.correo_electronico|default_if_none:"" }}</td>
    <td>{{ alianza.fecha_registro|date:"d/m/Y H:i"|default_if_none:"" }}</td>
  </tr>
  {% empty %}
  <tr><td colspan="4">No hay alianzas registradas.</td></tr>
  {% endfor %}
{% endblock %}
